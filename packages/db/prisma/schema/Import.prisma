model Import {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  status ImportStatus

  file   File?         @relation(fields: [fileKey], references: [key])
  schema ImportSchema? @relation(fields: [schemaId], references: [id])

  fileKey  String?
  schemaId Int?
}

enum ImportStatus {
  PENDING
  PROCESSING
  PROCESSED
  FAILED
}

model ImportSchema {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name     String  @unique
  schema   Json
  isPublic Boolean @default(false)

  organization Organization? @relation(fields: [organizationId], references: [id])
  imports      Import[]

  organizationId Int?
}

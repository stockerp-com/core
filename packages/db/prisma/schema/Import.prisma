model Import {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  status ImportStatus
  source ImportSource

  file   File?         @relation(fields: [fileId], references: [id])
  schema ImportSchema? @relation(fields: [schemaId], references: [id])

  fileId   Int?
  schemaId Int?
}

enum ImportStatus {
  PENDING
  PROCESSING
  PROCESSED
  FAILED
}

enum ImportSource {
  PROM
  TORGSOFT
}

model ImportSchema {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name     String  @unique
  isPublic Boolean @default(false)

  file         File?         @relation(fields: [fileId], references: [id])
  organization Organization? @relation(fields: [organizationId], references: [id])
  imports      Import[]

  fileId         Int?
  organizationId Int?
}

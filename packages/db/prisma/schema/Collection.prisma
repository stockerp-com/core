model Collection {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  goods         Good[]
  localizations CollectionLocalization[]
  children      Collection[]             @relation("children")
  parent        Collection?              @relation("children", fields: [parentId], references: [id])

  parentId Int? @map("collectionId")
}

model CollectionLocalization {
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name        String
  description String? @db.Text

  collection Collection @relation(fields: [collectionId], references: [id], onDelete: Cascade)
  language   Language   @relation(fields: [languageName], references: [name], onDelete: Cascade)

  collectionId Int
  languageName String

  @@id([collectionId, languageName])
  @@index([collectionId, languageName])
  @@index([collectionId])
  @@index([languageName])
}
